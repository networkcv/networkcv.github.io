<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="John Doe">





<title>Lambda表达式 | Hexo</title>



    <link rel="icon" href="/favicon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
    


<meta name="generator" content="Hexo 7.2.0"></head>
<!-- <a target="_blank" rel="noopener" href="https://github.com/networkcv" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style> -->
<body>
    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">Network Cavalry&#39;s Blog</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>
        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">Network Cavalry&#39;s Blog</a><a id="mobile-toggle-theme">·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
        <div class="main">
            <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    document.ready(
        function () {
            tocbot.init({
                tocSelector: '.tocbot-list',
                contentSelector: '.post-content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 1,
                orderedList: false,
                scrollSmooth: true,
            })
        }
    )

    function expand_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 6,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "collapse_toc()");
        b.innerHTML = "Collapse all"
    }

    function collapse_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 1,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "expand_toc()");
        b.innerHTML = "Expand all"
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">Lambda表达式</h1>
            
                <div class="post-meta">
                    

                    
                    
                        <span class="post-category">
                    Category:
                            
                                <a href="/categories/Others/">Others</a>
                            
                        </span>
                    
                </div>
            
        </header>

        <div class="post-content">
            <h2 id="1-Lambda表达式"><a href="#1-Lambda表达式" class="headerlink" title="1.Lambda表达式"></a>1.Lambda表达式</h2><p>函数式风格的编程，让代码更加的简洁、高效。</p>
<h3 id="1-1-Lambda的基础语法"><a href="#1-1-Lambda的基础语法" class="headerlink" title="1.1 Lambda的基础语法"></a>1.1 Lambda的基础语法</h3><ul>
<li><p>举例：（o1，o2）<code>-&gt;</code> Integer.compare(o1,o2);</p>
</li>
<li><p>格式：</p>
<ul>
<li><code>-&gt;</code> lambda操作符</li>
<li>左边：lambda形参列表，其实就是接口中的抽象方法的形参列表</li>
<li>右边：lambda体，重写抽象方法的方法体</li>
</ul>
</li>
<li><p>Lambda表达式本质：作为一个函数式接口（@FunctionalInterface）的实例</p>
</li>
<li><p>语法格式一：无参，无返回值</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>  &#123;</span><br><span class="line">       <span class="type">Runnable</span> <span class="variable">runnable0</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">           <span class="meta">@Override</span></span><br><span class="line">           <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">               System.out.println(<span class="number">0</span>);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;;</span><br><span class="line">       runnable0.run();</span><br><span class="line">       <span class="type">Runnable</span> <span class="variable">runnable1</span> <span class="operator">=</span> () -&gt; &#123;</span><br><span class="line">           System.out.println(<span class="number">2</span>);</span><br><span class="line">       &#125;;</span><br><span class="line">       runnable1.run();</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>语法格式二：Lambda 需要一个参数，但没有返回值</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> &#123;</span><br><span class="line">    Consumer&lt;String&gt; consumer1 =<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;String&gt;() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(String s)</span> &#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    consumer1.accept(<span class="string">&quot;consumer1&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    Consumer&lt;String&gt; consumer2 = (String s) -&gt; System.out.println(s);</span><br><span class="line">    consumer2.accept(<span class="string">&quot;consumer2&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>语法格式三：使用泛型的话，数据类型可以省略，由编译器可以推断出</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> &#123;</span><br><span class="line">    Consumer&lt;String&gt; consumer2 = (s) -&gt; System.out.println(s);</span><br><span class="line">    consumer2.accept(<span class="string">&quot;consumer2&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>语法格式四：Lambda 若只有一个参数时，参数的小括号也可以省略</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> &#123;</span><br><span class="line">    Consumer&lt;String&gt; consumer2 = s-&gt; System.out.println(s);</span><br><span class="line">    consumer2.accept(<span class="string">&quot;consumer2&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>语法格式五：Lambda 需要两个以上的参数，多条执行语句，并且可以有返回值</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span> &#123;</span><br><span class="line">       Comparator&lt;Integer&gt; comparator0 = <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Integer&gt;() &#123;</span><br><span class="line">           <span class="meta">@Override</span></span><br><span class="line">           <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Integer o1, Integer o2)</span> &#123;</span><br><span class="line">               <span class="keyword">return</span> Integer.compare(o1, o2);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;;</span><br><span class="line">       System.out.println(comparator0.compare(<span class="number">0</span>,<span class="number">1</span>));</span><br><span class="line">       </span><br><span class="line">       Comparator&lt;Integer&gt; comparator1=(o1, o2) -&gt; &#123;</span><br><span class="line">           <span class="keyword">return</span> Integer.compare(o1,o2);</span><br><span class="line">       &#125;;</span><br><span class="line">       System.out.println(comparator1.compare(<span class="number">0</span>,<span class="number">1</span>));</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>语法格式六：当Lambda 体只有一条语句时，return 与大括号若有，都可以省略</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span> &#123;</span><br><span class="line">       Comparator&lt;Integer&gt; comparator1=(o1, o2) -&gt; Integer.compare(o1,o2);</span><br><span class="line">       System.out.println(comparator1.compare(<span class="number">0</span>,<span class="number">1</span>));</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>



<h3 id="1-2-Java-内置的四大函数式接口"><a href="#1-2-Java-内置的四大函数式接口" class="headerlink" title="1.2 Java 内置的四大函数式接口"></a>1.2 Java 内置的四大函数式接口</h3><ul>
<li><p>消费型接口 Consumer<T>	void accept(T t)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">consumer</span><span class="params">(Integer integer, Consumer&lt;Integer&gt; consumer)</span> &#123;</span><br><span class="line">        consumer.accept(integer);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">        consumer(<span class="number">100</span>, s -&gt; System.out.println(<span class="string">&quot;花费&quot;</span>+s));</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">// Output 花费100</span></span><br></pre></td></tr></table></figure>


</li>
<li><p>供给型接口 Supplier<T> T get()</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//供给型接口 Supplier&lt;T&gt; T get()</span></span><br><span class="line"><span class="keyword">public</span> Integer <span class="title function_">getTime</span><span class="params">(Supplier&lt;Integer&gt; suppliers)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> suppliers.get();</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> &#123;</span><br><span class="line">    System.out.println(getTime(()-&gt;<span class="number">2</span>));</span><br><span class="line">  </span><br><span class="line">    Supplier&lt;String&gt; sp = () -&gt; <span class="string">&quot;1&quot;</span>;</span><br><span class="line">    System.out.println(sp.get());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
<li><p>函数型接口 Function&lt;T,R&gt; R apply(T t)</p>
</li>
<li><p>断定型接口 Predicate<T> boolean test(T t)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">filterString</span><span class="params">(List&lt;String&gt; list, Predicate&lt;String&gt; predicate)</span>&#123;</span><br><span class="line">        List&lt;String&gt; res=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (String s : list) &#123;</span><br><span class="line">            <span class="keyword">if</span> (predicate.test(s))&#123;</span><br><span class="line">                res.add(s);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span>&#123;</span><br><span class="line">        List&lt;String&gt; list= Arrays.asList(<span class="string">&quot;1&quot;</span>,<span class="string">&quot;2&quot;</span>,<span class="string">&quot;3&quot;</span>,<span class="string">&quot;11&quot;</span>);</span><br><span class="line">        List&lt;String&gt; res = filterString(list, s -&gt; s.startsWith(<span class="string">&quot;1&quot;</span>));</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//Output 	[1, 11]</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="1-3-方法引用"><a href="#1-3-方法引用" class="headerlink" title="1.3 方法引用"></a>1.3 方法引用</h3><p>使用场景：当要传递给Lambda体的操作，已经有实现的方法时，可以使用方法引用！</p>
<p>方法引用可以看作是Lambda表达式的深层次表达，方法引用也可以看作是函数式接口的是一个实例 。</p>
<p>格式：使用操作符<code>::</code> 将类（或对象）与方法名分割开来。</p>
<ul>
<li>情况一	对象：：实例方法名</li>
<li>情况二	类：：静态方法名</li>
<li>情况三	类：：实例方法名</li>
</ul>
<p>要求：</p>
<ul>
<li>实现接口的抽象方法的参数列表和返回值类型，必须与方法引用的方法参数列表和返回值类型保持一致（针对情况一和情况二）</li>
<li>情况三有些特殊，返回值类型必须相同，但参数个数可以相差一个。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LambdaTest3</span> &#123;  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getInteger</span><span class="params">(Integer i)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;i: &quot;</span> + i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">printInteger</span><span class="params">(Integer i)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;i: &quot;</span> + i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">        Consumer&lt;String&gt; consumer = (s) -&gt; System.out.println(s);</span><br><span class="line">        consumer.accept(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">        <span class="comment">//情况一</span></span><br><span class="line">        Consumer&lt;String&gt; consumer1 = System.out::println;</span><br><span class="line">        consumer1.accept(<span class="string">&quot;b&quot;</span>);</span><br><span class="line">        <span class="comment">//情况一</span></span><br><span class="line">        Consumer&lt;Integer&gt; consumer2 = <span class="keyword">new</span> <span class="title class_">LambdaTest3</span>()::getInteger;</span><br><span class="line">        consumer2.accept(<span class="number">1</span>);</span><br><span class="line">        <span class="comment">//情况二</span></span><br><span class="line">        Consumer&lt;Integer&gt; consumer3 = LambdaTest3::printInteger;</span><br><span class="line">        consumer3.accept(<span class="number">2</span>);</span><br><span class="line">        <span class="comment">//情况三</span></span><br><span class="line">        Comparator&lt;String&gt; comparator0 = <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;String&gt;() &#123;</span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(String o1, String o2)</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> o1.compareTo(o2);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        Comparator&lt;String&gt; comparator = (s1, s2) -&gt; s1.compareTo(s2);</span><br><span class="line">        Comparator&lt;String&gt; comparator2 = String::compareTo;</span><br><span class="line">        System.out.println(comparator2.compare(<span class="string">&quot;1&quot;</span>, <span class="string">&quot;2&quot;</span>));</span><br><span class="line"></span><br><span class="line">        Function&lt;Object, String&gt; function0 = <span class="keyword">new</span> <span class="title class_">Function</span>&lt;Object, String&gt;() &#123;</span><br><span class="line">            <span class="keyword">public</span> String <span class="title function_">apply</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> o.toString();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        Function&lt;Object, String&gt; function = o -&gt; o.toString();</span><br><span class="line">        Function&lt;Object, String&gt; function2 = Objects::toString;</span><br><span class="line">        System.out.println(function2.apply(<span class="string">&quot;123&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="1-4-构造器引用"><a href="#1-4-构造器引用" class="headerlink" title="1.4 构造器引用"></a>1.4 构造器引用</h3><p>和方法引用类似，函数式接口的抽象方法的形参列表和构造器的形参列表一致，抽象方法的返回值类型即为构造器所属类的类型。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot; Student() &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot; Student(String) &quot;</span>);</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name, Integer age)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot; Student(String，Integer) &quot;</span>);</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">//无参 有返回值 和Supplier 中的T get()方法类似</span></span><br><span class="line">    Supplier&lt;Student&gt; supplier = () -&gt; <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">    Supplier&lt;Student&gt; supplier2 = Student::<span class="keyword">new</span>;</span><br><span class="line">    supplier.get();</span><br><span class="line">    supplier2.get();</span><br><span class="line">    <span class="comment">//有一个参数 有返回值，和Function 中的T apply(S) 方法类似</span></span><br><span class="line">    Function&lt;String, Student&gt; function = s -&gt; <span class="keyword">new</span> <span class="title class_">Student</span>(s);</span><br><span class="line">    Function&lt;String, Student&gt; function2 = Student::<span class="keyword">new</span>;</span><br><span class="line">    function.apply(<span class="string">&quot;tom&quot;</span>);</span><br><span class="line">    function2.apply(<span class="string">&quot;tom&quot;</span>);</span><br><span class="line">    <span class="comment">//有两个参数 有返回值，和BiFunction 中的</span></span><br><span class="line">    BiFunction&lt;String, Integer, Student&gt; biFunction = (s, i) -&gt; <span class="keyword">new</span> <span class="title class_">Student</span>(s, i);</span><br><span class="line">    BiFunction&lt;String, Integer, Student&gt; biFunction2 = Student::<span class="keyword">new</span>;</span><br><span class="line">    biFunction.apply(<span class="string">&quot;tom&quot;</span>, <span class="number">1</span>);</span><br><span class="line">    biFunction2.apply(<span class="string">&quot;tom&quot;</span>, <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="1-5-数组引用"><a href="#1-5-数组引用" class="headerlink" title="1.5 数组引用"></a>1.5 数组引用</h3><p>可以把数组类型看作一个特殊的类，写法与构造器引用类似</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">//由于构建数组时，必须指定数组长度</span></span><br><span class="line">    Function&lt;Integer, String[]&gt; function = integer -&gt; <span class="keyword">new</span> <span class="title class_">String</span>[integer];</span><br><span class="line">    Function&lt;Integer, String[]&gt; function2 = String[]::<span class="keyword">new</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="2-Stream-API"><a href="#2-Stream-API" class="headerlink" title="2.Stream  API"></a>2.Stream  API</h2><p>Collection是用存放数据的，Stream是用来对数据进行操作。</p>
<p>Stream  API 定义在 java.util.steam，Stream是Java8 中处理集合的关键抽象概念，它可以指定你希望对集合进行的操作，可以执行非常复杂的查找、过滤和映射数据等操作。使用Stream API对集合数据进行操作，就类似于使用SQL执行的数据库查询。也可以使用Stream API来并行执行操作。简而言之，Stream API提供了一种高效且易于使用的处理数据的方式。</p>
<p>关系型数据库中的数据可以通过SQL语句上的技巧来过滤相关数据，而NoSQL数据库则需要先将数据取出来，在Java层面去处理。</p>
<p>Stream和Collection的区别：Collection 是一种静态的内存数据结构，而Stream是有关计算的，需要通过CPU计算来实现。</p>
<ul>
<li>Stream 自身是不会存储数据的。和迭代器类似。</li>
<li>Stream 不会改变源对象，他们会返回一个持有结果的新Stream。</li>
<li>Stream 延迟执行的，在执行终止操作的时候，才会执行前边中间操作链，并产生结果，之后不会再被使用。</li>
</ul>
<p>Stream 执行流程：</p>
<ol>
<li>Stream 的实例化</li>
<li>一系列的中间操作链（过滤、映射。。）</li>
<li>终止操作</li>
</ol>
<h3 id="2-1-Stream-的实例化"><a href="#2-1-Stream-的实例化" class="headerlink" title="2.1 Stream 的实例化"></a>2.1 Stream 的实例化</h3><h4 id="2-1-1-通过集合创建"><a href="#2-1-1-通过集合创建" class="headerlink" title="2.1.1 通过集合创建"></a>2.1.1 通过集合创建</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Collection</span>&lt;E&gt; <span class="keyword">extends</span> <span class="title class_">Iterable</span>&lt;E&gt; &#123;</span><br><span class="line">	<span class="keyword">default</span> Stream&lt;E&gt; <span class="title function_">stream</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> StreamSupport.stream(spliterator(), <span class="literal">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">default</span> Stream&lt;E&gt; <span class="title function_">parallelStream</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> StreamSupport.stream(spliterator(), <span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-1-2-通过数组创建"><a href="#2-1-2-通过数组创建" class="headerlink" title="2.1.2 通过数组创建"></a>2.1.2 通过数组创建</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//调用Arrays的 public static Stream&lt;T&gt; stream(T[] array)  返回一个流</span></span><br><span class="line"><span class="type">IntStream</span> <span class="variable">stream</span> <span class="operator">=</span> Arrays.stream(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;);</span><br><span class="line">Stream&lt;String&gt; stream1 = Arrays.stream(<span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;1&quot;</span>, <span class="string">&quot;2&quot;</span>&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="2-1-3-通过Stream的-of-方法"><a href="#2-1-3-通过Stream的-of-方法" class="headerlink" title="2.1.3 通过Stream的 of()方法"></a>2.1.3 通过Stream的 of()方法</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;Integer&gt; integerStream = Stream.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br></pre></td></tr></table></figure>

<h4 id="2-1-4-创建无限流"><a href="#2-1-4-创建无限流" class="headerlink" title="2.1.4 创建无限流"></a>2.1.4 创建无限流</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//遍历前10个偶数</span></span><br><span class="line"><span class="comment">//迭代</span></span><br><span class="line"><span class="comment">//public static&lt;T&gt; Stream&lt;T&gt; iterate(final T seed,final UnaryOperator&lt;T&gt; f)</span></span><br><span class="line"><span class="comment">//遍历前10个偶数</span></span><br><span class="line">Stream.iterate(<span class="number">0</span>,t-&gt;t+<span class="number">2</span>).limit(<span class="number">10</span>).forEach(System.out::println);</span><br><span class="line"></span><br><span class="line"><span class="comment">//生成</span></span><br><span class="line"><span class="comment">//public static&lt;T&gt; Stream&lt;T&gt; generate(Supplier&lt;T&gt; s)</span></span><br><span class="line">Stream.generate(Math::random).limit(<span class="number">10</span>).forEach(System.out::println);</span><br></pre></td></tr></table></figure>



<h3 id="2-2-Stream的中间操作"><a href="#2-2-Stream的中间操作" class="headerlink" title="2.2 Stream的中间操作"></a>2.2 Stream的中间操作</h3><h4 id="2-2-1-筛选与切片"><a href="#2-2-1-筛选与切片" class="headerlink" title="2.2.1 筛选与切片"></a>2.2.1 筛选与切片</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// filter(Predicate p) 从流中排除某些元素，排除的规则为Predicate类型的函数</span></span><br><span class="line">    Stream&lt;String&gt; stream = Stream.of(<span class="string">&quot;1&quot;</span>, <span class="string">&quot;2&quot;</span>, <span class="string">&quot;3&quot;</span>, <span class="string">&quot;4&quot;</span>);</span><br><span class="line">    stream.filter(s -&gt; s.equals(<span class="string">&quot;1&quot;</span>)).forEach(System.out::println);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// limit(n) 截断流，使其元素不超过给定数量</span></span><br><span class="line">    Stream&lt;String&gt; stream2 = Stream.of(<span class="string">&quot;1&quot;</span>, <span class="string">&quot;2&quot;</span>, <span class="string">&quot;3&quot;</span>, <span class="string">&quot;4&quot;</span>);</span><br><span class="line">    stream2.limit(<span class="number">3</span>).forEach(s -&gt; System.out.print(s + <span class="string">&quot; &quot;</span>));</span><br><span class="line">    System.out.println();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//skip(n) 跳过元素，返回一个扔掉前n个元素的流，元素不足的话，会返回空流</span></span><br><span class="line">    Stream&lt;String&gt; stream3 = Stream.of(<span class="string">&quot;1&quot;</span>, <span class="string">&quot;2&quot;</span>, <span class="string">&quot;3&quot;</span>, <span class="string">&quot;4&quot;</span>);</span><br><span class="line">    stream3.skip(<span class="number">3</span>).forEach(System.out::println);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//distinct() 筛选去重，通过流所产生元素的hashCode()和equals()去除重复元素</span></span><br><span class="line">    ArrayList&lt;Student&gt; students = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    BiFunction&lt;String, Integer, Student&gt; biFunction = Student::<span class="keyword">new</span>;</span><br><span class="line">    students.add(biFunction.apply(<span class="string">&quot;tom&quot;</span>, <span class="number">18</span>));</span><br><span class="line">    students.add(biFunction.apply(<span class="string">&quot;jack&quot;</span>, <span class="number">19</span>));</span><br><span class="line">    students.add(biFunction.apply(<span class="string">&quot;ros&quot;</span>, <span class="number">20</span>));</span><br><span class="line">    students.add(biFunction.apply(<span class="string">&quot;tom&quot;</span>, <span class="number">20</span>));</span><br><span class="line">    students.add(biFunction.apply(<span class="string">&quot;jack&quot;</span>, <span class="number">19</span>));</span><br><span class="line">    students.stream().forEach(System.out::println);</span><br><span class="line">    System.out.println(<span class="string">&quot;去重后&quot;</span>);</span><br><span class="line">    students.stream().distinct().forEach(System.out::println);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="2-2-2-映射"><a href="#2-2-2-映射" class="headerlink" title="2.2.2 映射"></a>2.2.2 映射</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//map(Function f) 接收一个函数作为参数，作为映射规则，将元素转换成其他形式或提取信息，</span></span><br><span class="line">        <span class="comment">//该函数会被应用到每个元素上，并将其映射成一个新的元素。</span></span><br><span class="line">        ArrayList&lt;Student&gt; students = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        BiFunction&lt;String, Integer, Student&gt; biFunction = Student::<span class="keyword">new</span>;</span><br><span class="line">        students.add(biFunction.apply(<span class="string">&quot;tom&quot;</span>, <span class="number">18</span>));</span><br><span class="line">        students.add(biFunction.apply(<span class="string">&quot;jack&quot;</span>, <span class="number">19</span>));</span><br><span class="line">        students.add(biFunction.apply(<span class="string">&quot;ros&quot;</span>, <span class="number">20</span>));</span><br><span class="line">        students.add(biFunction.apply(<span class="string">&quot;tom&quot;</span>, <span class="number">20</span>));</span><br><span class="line">        students.add(biFunction.apply(<span class="string">&quot;jack&quot;</span>, <span class="number">19</span>));</span><br><span class="line">        <span class="comment">//筛选出名字长度大于3的姓名</span></span><br><span class="line">        students.stream().map(Student::getName).filter(s-&gt;s.length()&gt;<span class="number">3</span>).forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//Output jack jack </span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//flatMap(Function f) 接收一个函数作为参数，将流中的每个值都换成另一个流，然后把流合并</span></span><br><span class="line">        Stream&lt;String&gt; stream = Stream.of(<span class="string">&quot;12&quot;</span>, <span class="string">&quot;34&quot;</span>, <span class="string">&quot;56&quot;</span>, <span class="string">&quot;78&quot;</span>);</span><br><span class="line">        stream.flatMap(StreamTest2::getCharacter).forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Stream&lt;Character&gt; <span class="title function_">getCharacter</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        ArrayList&lt;Character&gt; characters = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (Character c : s.toCharArray()) &#123;</span><br><span class="line">            characters.add(c);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> characters.stream();</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//Output 1  2  3  4  5  6  7  8 </span></span><br></pre></td></tr></table></figure>

<h4 id="2-2-3-排序"><a href="#2-2-3-排序" class="headerlink" title="2.2.3 排序"></a>2.2.3 排序</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test4</span><span class="params">()</span> &#123;</span><br><span class="line">    Stream&lt;Integer&gt; integerStream = Stream.of(<span class="number">321</span>, <span class="number">54</span>, <span class="number">35</span>, <span class="number">43</span>, <span class="number">6</span>, <span class="number">546</span>, <span class="number">24</span>, <span class="number">132</span>, <span class="number">2</span>, <span class="number">21</span>);</span><br><span class="line">    integerStream.sorted().forEach(s -&gt; System.out.print(s + <span class="string">&quot; &quot;</span>));</span><br><span class="line">    System.out.println();</span><br><span class="line">    <span class="comment">//Output 2 6 21 24 35 43 54 132 321 546 </span></span><br><span class="line"></span><br><span class="line">    students.stream().sorted((s1, s2) -&gt; Integer.compare(s1.getAge(), s2.getAge())).forEach(System.out::println);</span><br><span class="line">    students.stream().sorted(Comparator.comparingInt(Student::getAge)).forEach(System.out::println);</span><br><span class="line">    students.stream().sorted((s1, s2) -&gt; &#123;</span><br><span class="line">        <span class="keyword">return</span> s1.getAge() &lt; s2.getAge() ? -<span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">    &#125;).forEach(System.out::println);</span><br><span class="line">    <span class="comment">//Output 按照Student年龄的从小到大顺序打印输出</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-3-终止操作"><a href="#2-3-终止操作" class="headerlink" title="2.3 终止操作"></a>2.3 终止操作</h3><h4 id="2-3-1-匹配与查找"><a href="#2-3-1-匹配与查找" class="headerlink" title="2.3.1 匹配与查找"></a>2.3.1 匹配与查找</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="comment">//        allMatch(Predicate p) 检查是否匹配所有元素</span></span><br><span class="line"><span class="comment">//        anyMatch(Predicate p) 检查是否至少匹配一个元素</span></span><br><span class="line"><span class="comment">//        noneMatch(Predicate p) 检查是否没有匹配的元素</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        findFirst() 返回第一个元素</span></span><br><span class="line"><span class="comment">//        findAny()   返回任意元素</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        count()     返回元素中的总个数</span></span><br><span class="line"><span class="comment">//        Max(Comparator c)   返回流中最大元素</span></span><br><span class="line"><span class="comment">//        Min(Comparator c)   返回流中最小元素</span></span><br><span class="line"><span class="comment">//        forEach(Consumer c)   使用集合的遍历操作</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-3-2-归约"><a href="#2-3-2-归约" class="headerlink" title="2.3.2 归约"></a>2.3.2 归约</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//执行终止操作后，流就关闭了，无法再进行其他中间操作，</span></span><br><span class="line">        Stream&lt;Integer&gt; limit1 = Stream.iterate(<span class="number">1</span>, o -&gt; o + <span class="number">1</span>).limit(<span class="number">10</span>);</span><br><span class="line">        Stream&lt;Integer&gt; limit2 = Stream.iterate(<span class="number">1</span>, o -&gt; o + <span class="number">1</span>).limit(<span class="number">10</span>);</span><br><span class="line"><span class="comment">//        reduce(BinaryOperator accumulator)</span></span><br><span class="line"><span class="comment">//        reduce(T identity, BinaryOperator accumulator) 将流中的元素反复结合起来，得到一个值</span></span><br><span class="line"><span class="comment">//        identity 初始的值</span></span><br><span class="line"></span><br><span class="line">        BinaryOperator&lt;Integer&gt; binaryOperator = (i1, i2) -&gt; i1 + i2;</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">sum</span> <span class="operator">=</span> limit1.reduce(<span class="number">0</span>, binaryOperator);</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">sum1</span> <span class="operator">=</span> limit2.reduce(<span class="number">0</span>, Integer::sum);</span><br><span class="line"></span><br><span class="line">        System.out.println(sum.equals(sum1));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-3-3-收集"><a href="#2-3-3-收集" class="headerlink" title="2.3.3 收集"></a>2.3.3 收集</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">//collect(Collector c) 将流转换为其他形式，接收一个Collector接口的实现，</span></span><br><span class="line">    <span class="comment">// 用于给Stream中元素做汇总的方法</span></span><br><span class="line">    Stream&lt;Integer&gt; integerStream = Stream.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>);</span><br><span class="line">    List&lt;Integer&gt; collect = integerStream.collect(Collectors.toList());</span><br><span class="line">    collect.forEach(System.out::println);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-Optional类"><a href="#3-Optional类" class="headerlink" title="3.Optional类"></a>3.Optional类</h2><p>解决NullPointException的问题。</p>
<h3 id="3-1-创建Optional类对象的方法"><a href="#3-1-创建Optional类对象的方法" class="headerlink" title="3.1 创建Optional类对象的方法"></a>3.1 创建Optional类对象的方法</h3><ul>
<li><p>Optional.of(T t)	创建一个包装 t 的实例，t不能为null。</p>
</li>
<li><p>Optional.empty()	创建一个空的Optional实例。</p>
</li>
<li><p>Optional.ofNullable(T t)	创建一个包装 t 的实例，t可以为null。</p>
</li>
</ul>
<h3 id="3-2-判断Optional容器中是否包含对象"><a href="#3-2-判断Optional容器中是否包含对象" class="headerlink" title="3.2 判断Optional容器中是否包含对象"></a>3.2 判断Optional容器中是否包含对象</h3><ul>
<li>boolean isPresent() 判断是否包含对象。</li>
<li>void ifPresent(Consumer &lt;? super T&gt; consumer ) 如果有值，就执行Consumer接口的实现代码，并且该值会作为参数传给它。</li>
</ul>
<h3 id="3-3-获取Optional容器的对象"><a href="#3-3-获取Optional容器的对象" class="headerlink" title="3.3  获取Optional容器的对象"></a>3.3  获取Optional容器的对象</h3><ul>
<li><p>T get()	返回对象包含的值，没有则抛出异常。</p>
</li>
<li><p>orElse(T other)	如果之前的Optional实例中封装的value是非空，则返回内部的value，如果内部的value为空，则返回方法参数中的other。</p>
</li>
</ul>

        </div>

        
            <section class="post-copyright">
                
                
                
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tags/Java/"># Java</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/2021/07/25/working/gRpc%E5%AE%9E%E8%B7%B5/">gRPC实践</a>
            
            
            <a class="next" rel="next" href="/2021/04/29/working/%E6%B8%85%E7%90%86%E5%BF%AB%E7%85%A7%E6%95%B0%E6%8D%AE%E5%AF%BC%E8%87%B4%E7%BA%BF%E4%B8%8A%E6%95%85%E9%9A%9C%E5%A4%8D%E7%9B%98/">清理快照数据导致线上故障复盘</a>
            
        </section>


    </article>
</div>

        </div>
        <footer id="footer" class="footer">
    <!-- <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> -->
    <div class="copyright">
        <!-- <span> welcome~</a></span> -->
    </div>
    <!-- 访问统计 -->
    <!-- <div class="powered-by">
        <i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
            welcome~ <span id="busuanzi_value_site_pv"></span>
        </span>
    </div> -->
</footer>

    </div>
</body>
</html>
